
\chapter{绪论}

\section{课题研究的目的与意义}
车辆是人们日常生活中的重要的出行工具，随着生活水平的提高和汽车的普及，大多数百姓都拥有了私家车。然而私家车盛行其道又不可避免地加剧当下的交通拥堵状况，从另一方面给人们的出行带来极大的不便。随着车辆辅助驾驶技术和智能交通系统的发展，基于惯性器件和GNSS多模卫星导航的车载组合系统为汽车提供全道路连续导航，让人们的出行变得越来越方便，还能有效地解决城市的交通拥堵现状\cite{XiaoZQ(2017),LeungHF(2011),ZhangShiY(2010)}。

作为实现车辆智能化与交通系统网络化关键技术之一的车辆自动辅助驾驶技术一直是研究者们不断探索的方向\cite{Liumin(2014)}。自20世纪60年代起，车辆定位导航系统就已经由欧美等发达国家开始研究，而后计算机和通信技术的快速发展更是推进车载导航定位系统进入实用阶段\cite{HongleiCX(2012)}。伴随美国全球定位系统 GPS( Global Position System) 开放民用频段后，基于 GPS 与电子地图的车载导航，其精度得到大幅提高，可以提供准确的三维(经度、纬度、高度)导航数据，是人们出行必不可少的设备之一\cite{Liujiyu(2008)}。 不过 GPS也存在诸多不足，尤其受到一些城市特定环境的影响 （如多路径效应、电磁干扰、高楼树木的遮挡等），均会导致 GPS 信号可见性变差，定位信息中断，导航数据失效等现象，无法向用户提供准确的定位信号\cite{FanXY(2010),MoreauMC(2012)}。

近年来，随着硅工艺水平的提高，使得捷联惯导系统朝着体积更小，低功耗，低成本方向发展。基于微硅机械系统（Micro-Electro-Mechanical System，MEMS）的惯性测量单元（IMU，Inertia Measurement unit）已经成为低成本导航制导产品的代表\cite{XiaoYC(2016)}，一方面MEMS惯导具有小型化、低成本、测量范围大、寿命长等传统惯导难以比拟的优势，另一方面也因为工作稳定性差，受温度影响大等缺点无法像光纤陀螺激光陀螺等传统惯导那样可以长时间独立工作。因此，国外的MEMS惯导组合产品主要集中在与GNSS 的组合系统，除军事应用外，MEMS INS/GNSS 组合系统也被用于汽车\cite{AlSultanS(2013)}、智能穿戴设备、无人机、机器人等设备上，其应用已经遍布在我们的生活当中\cite{MaoB(2013),QiGF(2015)}。

多传感器技术及信息融合技术的快速发展，为组合导航系统提供了物质前提和理论基础，解决单一传感器应用不足的弊端。组合导航系统受到越来越多的重视，尤其是对定位精度和可靠性有一定需求的车辆导航系统中\cite{SunF(2011)}。 中国作为一个人口大国，汽车市场拥有非常大的潜力，而目前高校实验室和一些科技公司主要还是针对某些路段或特殊车辆进行无人驾驶与智能驾驶的测试，智能导航并没有完全应用到人们生活中去。

中国明确了在机器人和自动化机械领域成为领先者的目标，正在努力成为开拓者。无人驾驶和智能辅助驾驶在汽车市场已占据主导地位，车辆是低成本MEMS-INS/GNSS 组合导航系统很大的应用市场，以往受制于惯性器件的成本，只在军用作战车辆，特种车辆等装备上配备激光或光纤惯导，直到小型化、低成本MEMS 惯性器件的应用才成功将车载组合导航系统的应用扩展至民用车辆领域\cite{CuiLZ(2014)}。最近十年来随着MEMS惯性器件使用的增加，车载组合导航技术的广泛使用带来无比广阔的市场效应，为提高在导航产品的竞争力和吸引力，提高系统精度的同时降低成本是最为有效的一种手段\cite{Dissanayake(2001),CongLL(2015)}。

本文旨在设计基于ARM控制器的低成本微小型MEMS 惯导/GNSS组合导航模块，立足于车载实际运行环境提出有针对性的解决方案。首先根据技术要求，进行系统的总体设计；其次，对各个模块工作原理及功能进行分析，给出硬件解决方案；提出了系统相应的软件设计方案，并编写组合导航算法软件实现车辆导航定位的功能；最后对设计的导航模块进行车载试验分析。
\section{研究背景和研究现状}
%\subsection{自动辅助驾驶系统的发展}
随着汽车电子技术的进步，汽车智能化程度正大幅度提高。目前，全球各大汽车产商和科技巨头都花费很大的物力和人力投入到智能驾驶系统的研究中。然而实现车辆的自主式无人驾驶还有很长的道路要走，而其核心技术自动辅助驾驶系统(ADAS)目前已经开始逐步推广使用，正处于市场普及阶段。

智能汽车是在普通车辆的基础上增加多项车载传感器(如毫米波雷达、摄像头、低成本惯导和GPS 等)，这些传感器构成车辆的环境感知系统，传感器数据经系统控制器解算后，将决策信息发往底层控制器或协助人类对车辆进行控制。辅助驾驶系统的使用可以扩展车辆信息的获取，其功能包括：自动巡航、紧急刹车、车道线保持等\cite{Haojun(2015)}，通过驾驶员与汽车协作可以大大减少交通事故、提升车辆出行效率。

导航系统是实现车辆智能化的关键技术之一，是自动辅助驾驶系统中的重要组成部分，它所提供的位置、速度姿态等导航信息是车辆正常驾驶的重要前提。所以研究可靠有效，在多场景中可应用的组合导航系统对推动自动辅助驾驶的发展很有意义，而小型化低成本也是系统发展的趋势，可以更好地在车辆上进行普及。

\subsection{MEMS 惯性传感器}
微机电系统（Micro ElectroCmechanical System，MEMS）是在半导体制造技术基础上发展起来的，具有微型化、智能化、高集成度和适合大批量生产等特点。MEMS-IMU 是基于MEMS 技术的惯性测量单元，它集成了硅微陀螺仪和微加速度计，继承了传统SINS（strapdown Inertial navigation system）的特性：全自主式、保密性强、不存在信号电磁干扰等优点，又具有重量轻、低成本、低功耗、便于安装调试等优势\cite{Quentin(2001)}。低精度的MEMS 惯导作为小型电子产品主要用在个人导航仪、智能手机、运动计步器等便携设备；中精度的MEMS 惯导主要用于汽车导航系统、智能机器人、智能家居等；高精度的产品主要用于飞行器/导弹控制、舰船仪器、军用无人机等，是当今惯性技术发展的一个重要方向。

自上世纪七十年代MEMS技术开始发展以来，凭借深厚的工业基础和科研能力，欧美各国在MEMS惯性器件的研发上取得巨大的成就。博世（BOSCH）是德国工业企业之一，从事汽车与智能交通技术、工业技术、传感器生产等产业，博世以其创新尖端的产品及系统解决方案闻名于世，也是全球顶级MEMS 供应商，每天的MEMS 产量超过400 万颗。其他的如波音、霍尼韦尔、Rockwell 公司等工业巨头为代表的一大批公司对MEMS惯导的开发与研究，并在航空器，地面无人车辆等设备中成功应用。除去以上工业巨头对惯性技术的投入，世界范围内的知名大学（诸如斯坦福大学、宾夕法尼亚大学、麻省理工、香港科技大学等）也在相关领域进行了大量的研究和实践。

我国于上世纪九十年代初开始对MEMS 惯导的研究，主要研究主要集中于清华大学、航天科技集团十三所所、中国航天科工集团3院第33研究所、哈尔滨工业大学、中国科学院上海冶金所等高校与科研院所\cite{XiaoYC(2016)}。 虽然MEMS 惯导技术的研究得到了足够重视，但由于研究阶段起步较晚，加之在生产工艺水平不够，因而我们所开发出来的产品在精度、可靠性等方面较之欧美等发达国家还存在一些差距。

\subsection{卫星导航}
GNSS(Global Navigation Satellite System)泛指所有的卫星导航系统，主要包括美国的GPS、 俄罗斯的Glonass、 欧洲的Galileo、 中国的北斗卫星系统。卫星系统主要由三部分构成，具体包括：空间卫星星座部分、地面控制站、用户接受设备，可以全天候、连续提供高精度的三维位置、速度和时间信息，因而它被广泛运用在导航定位、 武器制导、交通管制、大地测量等领域\cite{DaiWJ(2012)}。

GPS与人类生活息息相关且是目前技术最为成熟的卫星导航系统。完整的GPS 星座由21 颗工作卫星和3 颗备用卫星共同组成。这24颗在轨卫星均匀分布在6 个轨道面上,倾角为55度。随着GPS技术的发展，目前其在轨工作卫星的数量已增加至31 颗。用户获取信息的位差减少至1.6 米，时间精度达到20ns。2016 年2 月5 日，美国联合发射联盟公司的“宇宙神”5-401 型运载火箭在卡纳维拉尔角空军站发射了美国空军的GPS-2F12 导航卫星\cite{JiangS(2016)}，至此第二代GPS 卫星的十二颗卫星已全部发射，第三代GPS-3 卫星的发射进入倒计时\cite{ZhaoShuang(2013)}。
\begin{figure}[!htb]
 \centering
 \includegraphics[width=0.5\textwidth]{figures/chap1/chap1_Beidou}\\    % e.g.,[scale=0.75], [width=0.75\textwidth ]
 \caption{北斗卫星系统}
 \label{chap1_Fig.1}
 \vspace{-0.4cm}
\end{figure}

北斗卫星系统定位技术本质上属于无线电导航定位，其定位原理是北斗卫星接收机通过获取多个卫星信号，并利用每个信号得到各卫星与接收机的距离，然后通过交汇法解算出接收机的三维坐标来实现导航定位。预计到2020 年左右，北斗卫星导航系统将实现由35 颗卫星覆盖全球的计划\cite{YangYX(2014)}。北斗卫星导航系统的建设是表征我国航天事业完成由面向专业领域到大众用户、由单星研制到组批生产的历史性转变。北斗卫星导航系统的建设将对维护我国国家安全、推动社会的进步与发展提供重要保障。

多模联合定位，已成为国际趋势， GNSS 的互操作能够带来导航、定位和授时性能的显著提高。卫星导航系统具有全天候、高精度的显著优势，但任何单一卫星导航系统无法提供姿态信息，且播发无线电信号易受遮挡、多路径和干扰等影响而无法满足连续、可靠定位的实际需要，但与惯性导航系统的组合可以较好克服上述问题,组合系统是各分系统互补、互相提高的集成，并非简单的切换，使系统的性能更强，应用领域更广\cite{QinYong(2015),FuMengYin(2010)}。依据工作原理，表\ref{chap1_Table 1} 比较了惯导与GNSS的主要优缺点。
\begin{table}[!h]
\renewcommand\arraystretch{1}
\centering
\caption{\label{chap1_Table 1}GNSS 与惯导特性比较}
\begin{tabular}{c l l}
\toprule
\hspace{0.5cm} 系统特性 &   \hspace{2.5cm}GNSS  &  \hspace{1cm} 惯导\\
\hline
      & \hspace{1cm}1、 误差随时间独立         & 1、 不受干扰\\
优势  & \hspace{1cm}2、 不需要外部先验信息     & 2、 数据率高\\
      & \hspace{1cm}3、 具备高精度绝对时间对准 & 3、 导航信息完备（有姿态信息）\\
      & \hspace{1cm}1、 易受干扰               & 1、 误差随时间积累\\
不足  & \hspace{1cm}2、 数据率低               & 2、 需要外部先验信息\\
      & \hspace{1cm}3、 导航信息不完备（无姿态信息） & 3、 无绝对时间基准\\
%\hline
\toprule
\end{tabular}
 \vspace{-0.4cm}
\end{table}

\section{组合导航系统发展及现状}
现代车辆导航系统的功能一般包括有：卫星定位、地图引导匹配、路线规划等功能，利用人工智能技术可以实时的向人们提供导航信息并规划行驶路线，导航方案可以采用惯性制导、GPS、图像匹配(毫米波雷达、摄像头、红外成像)等的组合导航技术。卫星定位在自动驾驶车辆上的地位举足轻重，但其又无法满足全天候全路段的定位需求，遇到信号遮挡严重的时候，其性能就捉襟见肘了。所以，多传感器组合导航方案成为解决车辆自动驾驶的重要技术手段\cite{YangLL(2014)}。

自上世纪80年代以来，自主式组合导航系统因为惯性导航和卡尔曼滤波技术的研究而得到发展。组合导航是提高导航系统定位精度的重要手段之一，卫星/惯导组合系统可以将惯导的短期内高精度能力与卫星系统的长期高精度能力有机地进行互补，克服了两者的缺点并提高了组合系统整体的性能\cite{Quentin(2001),RStirling(2005)}。

高性能的SINS因为价格昂贵使得其应用受到极大的限制，但随着MEMS 技术的发展，MEMS 惯导具有的稳定性强、体积小、价格低、启动快的特性使得GNSS/MEMS 惯导组合系统也大力发展起来。上世纪九十年代，欧美各国开始研究GNSS/MEMS 惯导组合系统，并很快凭借着雄厚的工业基础与科研实力使得组合导航系统在军用领域与民用领域均处于世界领先地位，其技术越来越完善，组合产品的性能也越来越好\cite{LiBowen(2014)}。 如：图\ref{chap1_Fig.2}所示的美国Crossbow 公司MEMS-IMU/GPS组合导航模块Nav440 ，其质量仅为0.58kg，功率只有4W，定位精度为3m，姿态测量精度均方根（Root mean square，RMS）为0.4 度。德国的iMAR公司的iVRU-CB-M 和iVRU-SNC 的质量只有550g，功率只有6W，定位精度为5m，姿态测量精度RMS 为0.5度。
\begin{figure}[!htb]
 \centering
 \includegraphics[width=0.4\textwidth]{figures/chap1/chap1_Nav440}\\    % e.g.,[scale=0.75], [width=0.75\textwidth ]
 \caption{Nav440 组合导航模块}
 \label{chap1_Fig.2}
 \vspace{-0.4cm}
\end{figure}

另外还有Geneva Aerospace 公司的FlightTEK 导航模块，美国Athena  Technologies Inc 公司生产的GS511战术级导航驾驶仪和Crossbow Technology公司生产的用于小型化设备的MNAV100CA 导航模块等等，都达到了国际上先进的水平，并且已投入生产使用。

自十一五规划以来，我国的惯导与 GNSS组合导航研究得到大力支持。全国范围内的50多家高等院校、研究院所以及企业响应号召展开研究。随着我国自主研制的北斗卫星导航系统的建设，促进了基于MEMS惯导组合导航算法研究的迅速发展，相关理论方法与仿真实验已趋于成熟\cite{LiuZP(2011),LiuHua(2013)}。北斗/MEMS 惯导组合导航系统在民用领域也得到了巨大的突破，国防科学技术大学、空军工程大学、西北工业大学、航天科工集团第三十三所等高校与科研院所分别取得了显著地成果\cite{LeeHK(2016)}。

除了高校与科研院所外，国内多家科技公司也陆续推出具有自主产权的MEMS 组合导航产品，并在智能驾驶车辆中投入使用。如：北京星网宇达科技股份有限公司推出的XW-GI5610 组合导航产品如图\ref{chap1_Fig.3} 所示，该产品在卫星定位方面采用GPS/GLONASS/ 北斗多模方案，具有全天候、全球覆盖、高精度、应用广泛等优点，与此同时XW-GI5610 内置惯性测量单元，弥补卫星信号易受建筑物、山林等高大物体遮挡或多路径影响带来的卫星短时间信号丢失的问题，大大提高系统可靠性，同时还可提供卫星导航所不能提供的航向姿态等信息。北京华力创通科技有限公司的导航产品HWANAV-BGI-7210，基于汽车级MEMS惯性传感器和多模卫星接收芯片为主的组合方案，当卫星信号无效或短时间中断位置精度 小于10m。

\begin{figure}[!htb]
 \centering
 \includegraphics[width=0.4\textwidth]{figures/chap1/chap1_XW-GI5610}\\    % e.g.,[scale=0.75], [width=0.75\textwidth ]
 \caption{XW-GI5610 导航系统}
 \label{chap1_Fig.3}
 \vspace{-0.4cm}
\end{figure}

在民用领域，现如今人们的消费水平大幅提升，购物方式的改变带动了物流运输的发展 ，对公路运输车的需求日益提高。可是中小企业也不得不面对劳动力缺失和人力成本上升的压力。经济型、可商用的半自动驾驶技术可有效降低运输市场的人力成本，并减少人们因疲劳驾驶带来的交通事故。另外一方面，得益于集成电路的发展，ARM处理器芯片价格越来越低，性能日益提高，广泛用于信号处理、通信、自动控制中，使用ARM代替传统PC 机作为导航系统的核心处理器设计小型化组合导航系统将会有更大的市场竞争力\cite{LiuZP(2011),LuLL(2016)}。

目前，对于车辆组合定位系统来说，很多理论尚需完善，相应的技术方案还需要在实际的测试及工程应用中得到改进。随着新型传感器的发展和应用，车辆导航系统向小型化不断发展的趋势\cite{YongY(2007)}，结合相关信息融合理论，可实现对自动驾驶技术的突破，完成对车载组合导航系统的更新换代，小型化组合系统在自动辅助驾驶系统中将扮演更多更重要的角色。

\section{论文的内容及编排}
本课题以低成本惯性组合导航系统为研究对象，设计一款用于自动驾驶辅助系统的小型化导航模块，实现小型化、低成本的设计目的。根据课题任务，采用浮点型ARM 控制器作为数据微处理器，低成本MEMS IMU 等惯性器件和Ublox 多模卫星接收机组成MEMS组合导航模块，采集传感器数据对车辆姿态，速度和位置信息进行解算，设计相应组合导航算法实现导航数据融合，解算出可靠性高的导航信息，通过车载实验验证模块的实用性。最后，设计组合导航系统的实时导航监控软件，方便用户掌握车辆运行状态。本文主要内容安排如下：

第一章： \ 绪论。简要介绍课题研究背景，分析MEMS的发展趋势，GNSS 卫星导航技术，以及车载组合导航产品的国内外发展现状，阐述了小型化MEMS 惯导/GNSS组合导航系统产品研究的重要意义。

第二章： \ 组合导航系统方案设计。按照车载组合导航系统小型化低成本的要求，分析坐标变换方法及捷联惯性导航系统姿态、位置和速度更新方程，介绍GNSS与SINS定位原理，通过Allan 方差法对MEMS惯导进行标定。最后给出GNSS/SINS 车载组合系统总体设计方案。

第三章： \ 车载组合系统硬件设计。搭建车载组合定位系统的硬件框架，详细介绍硬件设计、器件选型及原理图与PCB 的绘制，进行信号完整性分析，完成硬件调试。

第四章： \ 车载组合系统软件算法设计。软件设计包括低成本捷联惯性组合导航系统的算法设计、底层驱动程序、及软件的各个模块进行介绍。

第五章： \ 车载实验结果与分析。编写导航上位机软件，实时监控导航状态。然后分别进行静态试验和动态车载实验，采集实验数据并分析误差，验证该方案在工程实践上的可行性。

第六章： \ 总结和展望。对课题的所做的内容进行总结与分析，并对后续工作的展望。
