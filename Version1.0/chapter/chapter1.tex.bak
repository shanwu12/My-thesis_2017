
\chapter{绪论}

\section{课题研究的目的与意义}
车辆是人们日常生活中的重要的出行工具，随着生活水平的提高和汽车的普及，大多数百姓都拥有了私家车，导致城市交通的拥堵状况日益加重，从另一方面给人们的出行带来极大的不便。车辆定位导航技术随着智能交通系统的发展\cite{WangXiao(2006)}，基于惯性器件和GNSS多模卫星导航的车载组合系统为汽车提供全道路连续导航\cite{ZhangShiY(2010)}，大大缓解城市的交通拥堵现象，给人们的生活带来便利。

现代智能交通系统中，车辆定位导航技术处于极为重要的地位，他是实现交通系统网络化与车辆智能化的关键技术之一。智能交通系统在国外很早就受到支持并进行研究，早在20世纪60年代，欧美等发达国家就开始研究车辆定位技术及导航系统设计。20世纪90年代，随着计算机技术和通信技术的快速发展，车载导航定位系统开始进入真正的实用阶段。尤其当美国全球定位系统GPS（Global Position System）投入民用阶段之后，采用GPS与电子地图的车载导航，精度得到大幅度的提高\cite{KaPL(2007)}。 但是GPS也存在诸多不足，尤其受到一些城市特定环境的影响，如多路径效应、电磁干扰、高楼树木产生的信号遮挡和衰减等，这些因素都会造成GPS 信号可见性变差，定位信息中断
\cite{FanXY(2010),ZhangHN(2013),DaiWJ(2006)}。 但是随着多传感器技术及信息融合技术的快速发展，为组合导航系统提供了物质前提和理论基础，组合导航系统目前已经成为导航系统发展的主要方向之一，受到越来越多的重视，尤其是对定位精度和可靠性有一定需求的车辆导航系统中\cite{CuiLZ(2014)}。中国作为一个人口大国，汽车市场拥有非常大的潜力，而目前高校实验室和一些科技公司主要还是针对某些路段或特殊车辆进行无人驾驶与智能驾驶的测试，智能导航并没有完全应用到人们生活中去。

近年来，随着硅工艺水平的提高，使得捷联惯导系统朝着体积更小，低功耗，低成本方向发展。基于微硅机械系统（Micro-Electro-Mechanical System，MEMS）的惯性测量单元（IMU，Inertia Measurement unit）已经成为低成本导航制导产品的代表\cite{Liuwei(2004)}，一方面MEMS惯导具有小型化、低成本、测量范围大、寿命长等传统惯导难以比拟的优势，另一方面也因为工作稳定性差，受温度影响大等缺点无法像光纤陀螺激光陀螺等传统惯导可以独立工作。因此，MEMS惯导与卫星导航组合的系统受到研究人员的关注。国外的MEMS惯导组合产品主要集中在与GNSS的组合系统，除军事应用外，MEMS INS/GNSS组合系统也被用于汽车、智能穿戴设备、无人机、机器人等等设备上，其应用已经遍布在我们的生活当中\cite{MaoB(2013),QiGF(2015)}。

车载组合导航系统作为组合导航最重要的应用之一\cite{LiBowen(2014)}，是导航领域关注的重点和热点。车载组合导航系统主要由惯性导航系统、卫星定位系统及辅助传感器组成，通过导航计算机采集数据并进行处理，提供车辆的速度、位置姿态等信息。以往受制于惯性器件的成本，只在军用作战车辆，特种车辆等装备上配备激光或光纤惯导，直到小型化、低成本MEMS惯导/GNSS组合系统的出现成功将车载组合导航系统的应用扩展至民用车辆领域，甚至成为一些国外车辆厂商车辆出厂的标准配置。最近十年来随着MEMS惯性器件使用的增加，车载组合导航技术的广泛使用带来无比广阔的市场效应，国内也将MEMS组合导航研究作为一个研究热点\cite{Liuwei(2004)}，但由于研究起步晚及制造工艺水平低于发达国家，目前还存在比较大的差距\cite{WangXiao(2006)}。
车辆是低成本INS/GPS组合导航系统很大的应用大市场，研究低成本的小型化的组合系统具有深远意义。为提高在导航产品的竞争力和吸引力，提高系统精度的同时降低成本是最为有效的一种手段。

本文以低成本小型化MEMS惯导/GNSS组合导航系统设计为目标，根据车载实际环境提出有针对性的解决方案，设计基于ARM控制器的微小型车载组合定位系统。首先根据技术要求，进行系统的总体设计，对各个模块工作原理及功能进行分析说明，并给出原理图和PCB图完成硬件平台的制作，接着对组合导航系统进行软件编程，最后对设计的组合系统进行试验分析。
\section{研究背景和研究现状}
\subsection{MEMS惯性传感器}
微机电系统（Micro Electro Cmechanical System，MEMS）是在半导体制造技术基础上发展起来的，具有微型化、智能化、高集成度和适合大批量生产等特点，最初大量用于汽车安全气囊，而后以MEMS传感器的形式被大量用于汽车的各个领域。MEMS-IMU是基于MEMS技术的惯性测量单元，它集成了硅微陀螺仪和微加速度计，是一种新型的捷联惯导系统，继承了传统SINS（strapdown Inertial navigation system）的特性：完全自主式、保密性强、不存在信号电磁干扰等优点，又具有重量轻、低成本、低功耗、便于安装调试等优势。经过四十多年的研究和发展，各种高中低精度的MEMS惯导相继问世并得到广泛的应用，是当今惯性技术发展的一个重要方向。

%低精度的MEMS 惯导作为小型电子产品主要用在MP3/MP4 、个人导航仪、便携式医疗设备、PAD、智能手机、电子玩具、计步器、远程控制器等便携式设备。中等精度的MEMS 惯导作为工业级产品，主要用于汽车动态偏航稳定控制系统、卫星辅助导航系统、智能家居、汽车SRS 系统、智能机器人等。高精度的MEMS 惯导作为军用级产品，主要用于通讯卫星、大型无人机、导弹导引头、光学瞄准系统、飞行器/导弹控制、舰船仪器、军用机器人等。

自上世纪七十年代MEMS技术开始发展以来，凭借深厚的工业基础和科研能力，欧美各国在MEMS惯性导航系统技术始终处于领先地位。博世（BOSCH）是德国工业企业之一，从事汽车与智能交通技术、工业技术、传感器生产等产业，博世以其创新尖端的产品及系统解决方案闻名于世，也是全球顶级MEMS供应商，每天的MEMS产量超过400万颗。Draper实验室在MEMS惯性技术领域进行了大量的研究工作，并且取得了丰硕的成果，在过去的几年中推动着MEMS惯性技术以及组合导航的发展和应用。其他的如波音、霍尼韦尔、Rockwell公司等工业巨头为代表的一大批公司大力开展对MEMS惯导/GNSS的开发与研究，并在航空器，地面无人车辆等设备中成功应用。而以美国斯坦福大学、宾夕法尼亚大学，麻省理工、香港科技大学等知名大学都将MEMS惯导/GNSS组合导航研究列为近年的重点研究方向，并做了大量的实践，成功将组合导航产品应用到诸如无人机、无人车以及户外机器人上，推动整个领域的进步。欧洲的英国、法国、德国、以及日本也在相继进行相关技术的原理的研究工作，并不断研发出新的产品与技术\cite{Veth M(2006)}。

我国于上世纪九十年代初开始对MEMS惯导的研究，主要研究主要集中于清华大学、航天科技集团十三所所、中国航天科工集团3院第33研究所、哈尔滨工业大学、中国科学院上海冶金所等高校与科研院所\cite{LiRongBing(2004)}。由于MEMS惯导的研发所需时间较长且对制造工艺有较高要求，我国对MEMS惯导的研究时间较短且缺乏核心技术，所研发的产品在工艺水平、可靠性、器件精度等方面与欧美还有一定的差距。

\subsection{卫星导航}
GNSS（ Global Navigation Satellite System）泛指所有的卫星导航系统，主要包括美国的GPS、俄罗斯的Glonass、欧洲的Galileo、我国的自主开发并加速布网的北斗卫星导航系统以及相关的增强系统。卫星系统主要由空间卫星星座部分、地面控制站、用户接受设备三部分组成，能为全球陆海空的军民载体，全天候、连续提供高精度三维位置、速度和时间信息，对导航定位、武器制导、交通管制、大地测量等均具有重要意义，卫星导航在军事和民用方面都得到了广泛的应用。

在卫星导航系统中，GPS最为成熟，且渗透到人类生活的方方面面。完整的GPS星座由24颗在轨卫星（其中21颗工作卫星、3颗备用卫星）组成，位于距地表20200千米上空，运行周期为12小时。卫星均匀分布在6个轨道面上，倾角为$55^\circ$。 理想状态下，全球任意一点、任何时间都可观测到4颗以上的卫星。目前GPS在轨工作卫星数量31颗，空间信号用户定位误差1.6m，授时精度20ns。2016年2月5日，美国联合发射联盟公司的“宇宙神”5―401型运载火箭在卡纳维拉尔角空军站发射了美国空军的GPS-2F12导航卫星\cite{JiangS(2016)}。至此第二代GPS卫星的十二颗卫星已全部发射，第三代GPS―3卫星的发射进入倒计时\cite{ZhaoShuang(2013)}。
\begin{figure}[!htb]
 \centering
 \includegraphics[width=0.6\textwidth]{figures/chap1/chap1_Beidou}\\    % e.g.,[scale=0.75], [width=0.75\textwidth ]
 \caption{北斗卫星}
 \label{chap1_Fig.1}
 \vspace{-0.4cm}
\end{figure}

北斗卫星系统是我国自主研制的卫星导航系统，我国北斗卫星导航系统采取的是“三步走”发展战略\cite{YangYX(2010)}，北斗一号是有源定位(RDSS)，北斗二号是有源定位＋无源定位，可覆盖全球1/3区域，而北斗三号将实现真正的全球覆盖，卫星性能也大幅提升，单星设计寿命达到12 年。按计划到2020年，建成由5颗静止轨道和30颗非静止轨道卫星组网而成的全球卫星导航系统，形成全球覆盖能力，建成世界一流的全球卫星导航系统。中国北斗卫星导航系统利用地球同步卫星对目标实施快速定位，同时兼有报文通信和授时定时功能，北斗卫星导航系统的建设是表征我国航天事业完成由面向专业领域到大众用户、由单星研制到组批生产的历史性转变。北斗卫星导航系统的建设将对维护我国国家安全、推动社会的进步与发展提供重要保障\cite{TangSS(2008)}。总体说来，美国的GPS研究走在中国北斗的前面，我国的北斗系统是后起之秀。就目前而言，GPS能为全球用户提供定位、导航、授时服务，定位精度达到1米以下。我国的北斗导航系统目前只有23颗卫星在运行，还不能全球覆盖，只能暂时为亚洲地区提供定位、导航、授时、通信服务。但随着北斗系统的不断完善以及技术水平的日益提高，未来北斗与其他卫星导航系统产品的兼容性将逐渐增加，多模联合定位，已成为国际趋势，GNSS的互操作能够带来导航、定位和授时性能的显著提高。宽带天线技术、高性能射频前段技术和微电子技术的发展以及高速多核并行处理器的出现使多模GNSS信号接收机的小型化和广泛使用成为可能。

卫星导航系统具有全天候、高精度的显著优势，但任何单一卫星导航系统无法提供三维姿态信息，且播发无线电信号易受遮挡、多路径和干扰等影响而无法满足连续、可靠定位的实际需要，但与惯性导航系统的组合可以较好克服上述问题,组合系统时各分析系统的互补、互相提高的集成，并非简单的切换，使系统的性能更强，应用领域更广\cite{QinYong(2015),FuMengYin(2010)}。依据工作原理，表\ref{chap1_Table 1}比较了惯导与GNSS的主要优缺点。
\begin{table}[!h]
\renewcommand\arraystretch{1}
\centering
\caption{\label{chap1_Table 1}GNSS与惯导特性比较}
\begin{tabular}{c l l}
\toprule
\hspace{0.5cm}系统特性 &   \hspace{1cm}GNSS  &  \hspace{1.5cm}惯导\\
\hline
      & \hspace{1cm}1、误差随时间独立         & 1、不受干扰\\
优势  & \hspace{1cm}2、不需要外部先验信息     & 2、数据率高\\
      & \hspace{1cm}3、具备高精度绝对时间对准 & 3、导航信息完备（有姿态信息）\\
      & \hspace{1cm}1、易受干扰               & 1、误差随时间积累\\
不足  & \hspace{1cm}2、数据率低               & 2、需要外部先验信息\\
      & \hspace{1cm}3、导航信息不完备（无姿态信息） & 3、无绝对时间基准\\
%\hline
\toprule
\end{tabular}
\end{table}
\section{组合导航定位系统发展及现状}
从1921年的滚动式地图到如今无人驾驶汽车导航，车载导航系统的发展经历了接近一个世纪的锤炼，在此期间出现各类有代表的产品。

本田公司在1977年使用气体轴承陀螺仪来辅助汽车导航，该导航设备能够追踪方向性转变并进行导航，同时能够在一个单色CRT显示器上展示汽车行驶状态，使用一个零起点和透明地图叠盖在给定的路线上追踪汽车的位置。1981年，这套系统作为辅助设备推送给经销商，但却从未进入成批生产。在该系统上，集成实时导航方式，为车辆组合导航定位系统的发展奠定了良好的基础。

随后在八十年代，自主式路径导航定位系统得到发展，利用集成的高精度电子地图进行地图匹配，并通过航位推算技术进行组合定位，实现车载组合定位。典型的有美国“Navigation” 导航定位系统，德国BOSCH公司的“EVA”，以及荷兰的Autoguide等,这些系统，由于航位推算容易产生误差累计，定位精度低，实用性受到很大限制\cite{Quentin(2001),RStirling(2001)}。

随后多种车辆组合导航定位系统在此基础上得到发展，先后研究出挠性捷联惯导/GPS、光纤捷联惯导/GPS、激光捷联惯导/GPS，但这些设备设备结构庞大复杂，造价昂贵，不利于在民用市场普及。

高性能的SINS因为价格昂贵使得其应用受到极大的限制，但随着MEMS技术的发展，基于MEMS SINS/GNSS的小型化组合导航技术发展相当迅速，美国等欧美国家在MEMS惯性器件以及微型导航系统技术方面处于世界领先地位。美国国防部DARPA以及其他政府部门在MEMS的军事和商业应用方面进行战略性投入，每年投入大量资金并且逐年增加，引领MEMS技术向构建低成本、战术级导航系统发展，其技术越来越完善，组合产品的性能也越来越好\cite{TangKH(2007)}。如：
图\ref{chap1_Fig.2}美国Crossbow公司的MEMS IMU/GPS组合导航模块Nav440，其质量0.58kg，功率只有4W，定位精度为3m，姿态测量精度均方根（Root mean square，RMS）为0.4度。德国的iMAR公司的iVRU-CB-M和iVRU-SNC的质量只有550g，功率只有6W，定位精度为5m，姿态测量精度RMS 为0.5度。
\begin{figure}[!htb]
 \centering
 \includegraphics[width=0.4\textwidth]{figures/chap1/chap1_Nav440}\\    % e.g.,[scale=0.75], [width=0.75\textwidth ]
 \caption{Nav440组合导航模块}
 \label{chap1_Fig.2}
 \vspace{-0.4cm}
\end{figure}

Wepilot1000集成GPS、IMU、磁罗盘、气压高度计和空速计等多种传感器。最大测量角速率为士100度/秒, 最大测量加速度为士2g，位置精度可达3m，而且Wepilot1000具有非常丰富的外围接口, 可直接与无线链路、图像载荷等设备相连接。其功耗为54W，质量1020g，尺寸仅为120mm*154mm*125mm。

另外还有Geneva Aerospace公司的FlightTEK导航模块，美国Athena  Technologies Inc 公司生产的GS511战术级导航驾驶仪和Crossbow Technology，Inc。公司生产的用于小型化设备的MNAV100CA导航模块等等，都达到了国际上先进的水平，并且已投入生产使用。

我国在“十一五”、“十二五”、“十三五”期间得到总装备部、国家科技部、国家自然科学基金委和教育部的重点支持。全国已有50多家高等院校、研究院所和企业开展了惯导与GNSS组合导航方面的研究工作，并在MEMS惯性传感器及基于MEMS惯导组合导航算法研究等诸多方面取得一定成果。

清华大学设计出利用美国BEI公司的微型谐振陀螺仪和硅微加速度计的MEMS IMU，系统车载试验表明组合系统当GPS段时间失锁组合系统能保持较高的定位精度；哈尔滨工业大学研发了MEMS IMU/GPS/TAM组合导航系统原理样机；南京航空航天大学导航研究中心设计并实现了采用ADXRS150的MEMS陀螺以及ADXL320的MEMS加速度计IMU，同时采用Ublox GPS接收机与其组成MEMS组合导航系统，并成功应用于运动载体。

\begin{figure}[!htb]
 \centering
 \includegraphics[width=0.4\textwidth]{figures/chap1/chap1_XW-GI5610}\\    % e.g.,[scale=0.75], [width=0.75\textwidth ]
 \caption{XW-GI5610导航系统}
 \label{chap1_Fig.3}
 \vspace{-0.4cm}
\end{figure}

除了高校与科研院所外，国内多家科技公司也陆续推出具有自主产权的MEMS组合导航产品，并在智能驾驶车辆中投入使用。如：北京星网宇达科技股份有限公司推出的XW-GI5610组合导航产品图\ref{chap1_Fig.3}，卫星定位方面采用GPS/GLONASS/ 北斗多模方案，具有全天候、全球覆盖、高精度、应用广泛等优点，与此同时XW-GI5610内置惯性测量单元，借助新一代多传感器数据融合技术，弥补卫星信号易受建筑物、山林等高大物体遮挡或多路径影响带来的卫星短时间信号丢失的问题，大大提高系统可靠性，同时还可提供卫星导航所不能提供的航向姿态等信息。北京华力创通科技有限公司出产的HWANAV-BGI-7210是专为汽车导航服务而开发的，基于汽车级MEMS惯性传感器和BDS/GPS卫星接收机芯片为主的组合方案，同时，融合磁传感器、车速信息，可实现高效经济的车载组合导航解决方案。

在军用领域，自动驾驶技术具有广泛的应用价值，包括运送军事物资、执行高危任务等，从而提升作战效率、减少大量兵员，但第一代、第二代军用无人车技术受制于高成本难以普及，如今小型化低成本的解决方案有助于突破这一瓶颈。而在民用领域，国内消费水平提升带动了物流运输特别是电商物流的快速发展，拉动了对公路用车的需求，与此同时，随着中国人口红利的消失，中小企业及私营运输市场普遍面临劳动力短缺和人力成本上升压力。经济型、可商用的自动驾驶技术将显著降低运输市场的人力成本，并减免因疲劳驾驶造成的交通事故发生率。

另外一方面，得益于集成电路的发展，ARM处理器芯片价格越来越低，性能日益提高，广泛用于信号处理、通信、自动控制中，使用ARM代替传统PC机作为导航系统的核心处理器设计小型化组合导航系统将会有更大的市场竞争力\cite{SunLiN(2002)}。

随着我国自主研发的“北斗”双星定位导航系统的组网成功，未来国内车载组合定位系统将有着更加广阔的应用前景\cite{TangSS(2008)}。

\section{论文的内容及编排}
本课题以低成本惯性组合导航系统为研究对象，设计一款用于自动驾驶辅助系统的小型化导航模块，实现小型化、低成本的设计目的。根据课题任务，采用浮点型ARM控制器作为数据微处理器，低成本MEMS IMU等惯性器件和Ublox 多模卫星接收机组成MEMS组合导航模块，采集传感器数据对车辆姿态，速度和位置信息进行解算，再根据卫星定位信息对两者进行卡尔曼滤波信息融合，通过车载实验验证模块的实用性。最后，设计组合导航系统的实时导航监控界面。本文主要内容安排如下：

第一章： \ 绪论。简要介绍课题研究背景，分析MEMS的发展趋势，GNSS卫星导航技术，以及车载组合导航产品的国内外发展现状，阐述了小型化MEMS惯导/GNSS组合导航系统产品研究的重要意义。

第二章： \ 小型化车载导航组合系统方案设计。按照车载组合导航系统小型化低成本的要求，分析坐标变换方法及捷联惯性导航系统姿态确定方法，介绍GNSS与SINS定位原理，最后给出GNSS/SINS车载组合系统总体设计方案。

第三章： \ 车载组合系统硬件设计。搭建车载组合定位系统的硬件平台，介绍ARM技术概况以及ARM应用的构成、特点和一般开发流程，详细介绍硬件设计、器件选型及原理图与PCB的绘制，进行信号完整性分析，完成硬件调试。

第四章： \ 车载组合系统软件算法设计。软件设计包括底层驱动程序及初始化设计、低成本捷联惯性组合导航系统的算法设计、定义数据输出协议编写导航上位机软件，实时监控导航状态。

第五章： \ 车载实验结果与分析。分别进行静态试验和动态车载实验，采集实验数据并分析误差，验证该方案在工程实践上的可行性。

第六章： \ 总结和展望。对课题的所做的内容进行总结与分析，并对后续工作的展望。
